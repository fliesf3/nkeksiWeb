<!DOCTYPE html>
<html>
<head>
    <title>Nkeksi</title>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">


    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-104509568-1', 'auto');
        ga('send', 'pageview');

    </script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link href="css/main.css" rel="stylesheet">
    <link href="css/main2.css" rel="stylesheet">
    <link href="css/restaurant.css" rel="stylesheet">
    <link href="css/restaurantpg.css" rel="stylesheet">

    <script src="https://use.fontawesome.com/7ff44754f3.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <script src="https://www.gstatic.com/firebasejs/4.1.3/firebase.js"></script>
    <meta name="author" content="fireflies technologies">
    <link href="css/simple-sidebar.css" rel="stylesheet">
    <link href="css/sweetalert.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="css/google.css">


    <style>
        /* Always set the map height explicitly to define the size of the div
         * element that contains the map. */
        #map {
            height: 100%;
            position: relative;
        }

        #floating-panel {
            position: absolute;
            top: 10px;
            left: 25%;
            z-index: 5;
            background-color: #fff;
            padding: 5px;
            border: 1px solid #999;
            text-align: center;
            font-family: 'Roboto','sans-serif';
            line-height: 30px;
            padding-left: 10px;
        }
    </style>

    <script type="text/javascript" src="js/sweetalert.min.js"></script>

</head>
<body>

<div class="modal fade" id="cartModal"  role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="false"><img src="images/quit.png" class="img-responsive"></span></button>
                <center>
                    <h4 style="font-family:Arial;">Nkeksi Cart View</h4>
                </center>
            </div>

            <!-- form commence here -->
            <div class="modal-body">

                <div id="cart_wrapper" align="center">

                    <div class="cart-info"></div>

                    <div class="cart-total">

                        <b>Total Charges:&nbsp;&nbsp;</b><span id="total-shown-charges">0</span>XAF

                        <input type="hidden" name="total-hidden-charges" id="total-hidden-charges" value="0" />
                    </div>

                </div>

            </div><!-- end of modal body -->

            <div class="modal-footer">
                <div class="form-group">

                    <p class="clearfix"/>
                    <div class="col-lg-12 col-md-12 col-xs-12 text-center">
                        <div class="col-lg-6">
                            <button id="btnOrder" class="btn btn-default orange">ORDER</button>
                        </div>
                        <div class="col-lg-6">
                            <button id="btnReserve" class="btn btn-default btn-success signButton">RESERVE</button>
                        </div>
                    </div>

                </div>
            </div><!-- end of modal footer-->

            <!-- end of form -->


        </div>
    </div>
</div>

<nav class="navbar navbar-default navbar-fixed-top">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header fixed-brand">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"  id="menu-toggle">
            <span class="glyphicon glyphicon-th-large" aria-hidden="true"></span>
        </button>
        <a class="navbar-brand header-nav" href="index.html" style="margin-top:-10px;">
            <img src="images/real_logo.png" alt="nkeksi-logo" title="nkeksi-logo" width="140">
        </a>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">

                <li class="active" ><button class="navbar-toggle collapse in" data-toggle="collapse" id="menu-toggle-2">menu <span class="glyphicon glyphicon-th-large nkeksi-green" aria-hidden="true"></span>
                    <span class="cartNum2 show" aria-hidden="true">0</span></button></li>
            </ul>
        </div>
    </div>
    <div class="collapse navbar-collapse" id="myNavbar">
        <ul class="nav navbar-nav navbar-right">
        </ul>
    </div>
    <!-- navbar-header-->

    <!-- bs-example-navbar-collapse-1 -->
</nav>

<div id="wrapper">
    <!-- Sidebar -->
    <div id="sidebar-wrapper">
        <ul class="sidebar-nav nav-pills nav-stacked" id="menu">

            <li class="active">
                <a href="#" class=""><span class="fa-stack fa-lg pull-left"><i class="fa fa-dashboard fa-stack-1x "></i></span><span id="idRestoTwo"></a>
            </li>
            <li>
                <a href="#"><span class="fa-stack fa-lg pull-left"><i class="fa fa-fax fa-stack-1x "></i></span>Tel: (+237) <span id="idTel"></span></a>
            </li>
            <li>
                <a href="" id="idMail2w" target="_top"><span class="fa-stack fa-lg pull-left"><i class="fa fa-envelope fa-stack-1x "></i></span>Email: <span id="idMail"></span></a>
            </li>
            <li>
                <a href="#"><span class="fa-stack fa-lg pull-left"><i class="fa fa-map-marker fa-stack-1x "></i></span>Location
                    : <span class="nkeksi-green"><span id="idLoc"></span></span></a>
            </li>
            <li>
                <a href="#"><span class="fa-stack fa-lg pull-left"><i class="fa fa-address-book fa-stack-1x "></i></span>Address: <span id="idAddr"></span></a>
            </li>
            <li>
                <a href="#"><span class="fa-stack fa-lg pull-left"><i class="fa fa-server fa-stack-1x "></i></span>Contact</a>
            </li>

            <div class="cartView">
                <h4 class="">CART</h4>
                <div id="cart-img">
                    <img id="cartImg" src="images/basket.png" height="60" width="60" class="img-respnsive img-circle">
                    <span class="cartNum">0</span>
                </div>
                <br><br>

                <button id="cartBtn" type="button" class="btn btn-success">view cart</button>
                <p class="clearfix">

                    <audio class="hidden" id="cartAudio">
                        <source src="audio/just-like-magic.mp3"  type='audio/mp4'>
                    </audio>

                    <audio class="hidden" id="cartAudioDelete">
                        <source src="audio/that-look.mp3"  type='audio/mp4'>
                    </audio>

            </div>

        </ul>
    </div>

    <div id="page-content-wrapper">
        <div class="container-fluid xyz">
            <div class="row">
                <h1 id="idName" class="nkeksi-green"></h1>

                <div class="col-lg-12" id="restauMap">

                    <div id="floating-panel">
                        <b>Mode of Travel: </b>
                        <select id="mode">
                            <option value="DRIVING">Driving</option>
                            <option value="WALKING">Walking</option>
                            <option value="BICYCLING">Bicycling</option>
                            <option value="TRANSIT">Transit</option>
                        </select>
                    </div>
                    <div id="map">

                    </div>
                </div>

                <p class="clearfix"><p class="clearfix"><p class="clearfix">

                <button type="btn" id="mode1" class="btn"><i class="fa fa-car blue-ico" aria-hidden="true"></i></button>
                <button type="btn" id="mode2" class="btn"><i class="fa fa-bicycle blue-ico" aria-hidden="true"></i></button>

                <p id="lat"></p>
                <p id="long"></p>
                <div id="position-display">

                </div>

                <div class="row">
                    <div class="container">
                        <div class="col-lg-12">
                            <div class="searchMeal" style="font-family:Arial">
                                <input type="search" id="search" placeholder="Search Your Favourite Meal..." />
                                <span class="icon"><i class="fa fa-search"></i></span>
                            </div>
                        </div>
                    </div>
                </div>
                <p class="clearfix">

                <div class="row">
                    <div class="container">
                        <div class="col-lg-12 col-sm-12 col-xs-12">
                            <div id="menuHead">
                            </div>
                            <div class="col-lg-12 col-sm-12 col-xs-112">
                                <div class="ListDiv">

                                </div>
                            </div>

                            <div id="menuFoot">
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

</div><!-- end of wrapper -->








<script src="js/jquery.js" type="text/javascript"></script>
<script src="js/jquery2.js" type="text/javascript"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script type="text/javascript" src="js/loader.js"></script>
<script type="text/javascript" src="js/restau.js"></script>
<script type="text/javascript" src="js/jquery.livequery.js"></script>
<script type="text/javascript" src="js/initMap.js"></script>
<script>
    var la = 0;
    var lon = 0;
    var coordinates;

    $( '#cartBtn' ).click( function() {
        $( '#cartModal' ).modal();
    });
    function initMap() {

      var  pos = navigator.geolocation;

        pos.getCurrentPosition(success , failure);

        function success(pos) {
            latitude = pos.coords.latitude;
            longitude = pos.coords.longitude;

            la = latitude;
            lon = longitude;
            $("#lat").html(latitude);
            $("#long").html(longitude);

             coordinates = new google.maps.LatLng(latitude, longitude);
            var map = new google.maps.Map(document.getElementById('map'), {
                zoom: 14,
                center: coordinates
            });
            var marker = new google.maps.Marker({map:map, position:coordinates});


        }

        function failure() {

            $("#lat").html("oops");
            $("#long").html("oops could nt get");

        }



        var directionsDisplay = new google.maps.DirectionsRenderer;
        var directionsService = new google.maps.DirectionsService;
        var map = new google.maps.Map(document.getElementById('map'), {
            zoom: 14,
            center: coordinates
        });

        directionsDisplay.setMap(map);

        $("#mode1").click(function () {

            var mode = document.getElementById('mode');
            var k = mode.value ='DRIVING';
            $( "#mode" ).change();
            calculateAndDisplayRoute(directionsService, directionsDisplay);
            console.log(k);
        });

        $("#mode2").click(function () {

            var mode = document.getElementById('mode');
            var k = mode.value ='WALKING';
            $( "#mode" ).change();
            calculateAndDisplayRoute(directionsService, directionsDisplay);
            console.log(k);
        });


      calculateAndDisplayRoute(directionsService, directionsDisplay);
        document.getElementById('mode').addEventListener('change', function() {
            calculateAndDisplayRoute(directionsService, directionsDisplay);
        });
    }

    function calculateAndDisplayRoute(directionsService, directionsDisplay) {
        var selectedMode = document.getElementById('mode').value;


        directionsService.route({
            origin: {lat: la, lng: lon},  // Haight.
            destination: {lat: la+0.05, lng:lon+0.0003},
            // Note that Javascript allows us to access the constant
            // using square brackets and a string value as its
            // "property."
            travelMode: google.maps.TravelMode[selectedMode]
        }, function(response, status) {
            if (status == 'OK') {
                directionsDisplay.setDirections(response);
            } else {
                window.alert('Directions request failed due to ' + status);
            }
        });
    }
</script>
<script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBIuAO8bn7_aVeeA7YNICY9-UvavvnU32w&callback=initMap">
</script>
</body>
</html>